**线程安全的定义:**当多个线程访问某一个类时，不管运行是环境采用何种调度方式，或者这些线程如何交替执行，并且在主调代码中不需要任何额外的同步或协调，这个类都能表现出正确的行为，那么这个类就是线程安全的。

**可重入锁：**获取锁的操作粒度是线程，每个锁关联一个获取计数值和一个所有者线程，当计数值为0时，这个锁被认为是没有被任何线程持有。当线程请求一个未被持有的锁时，jvm记录锁的持有者，并且将计数值设置为1。如果同一线程继续请求该锁，则计数值递增，当该线程退出同步代码块时，计数值递减。当计数值为0时，释放该锁。